<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gnome biome</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Jost"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Single+Day"
    />

    <style>
      body {
        font-family: "Single Day", sans-serif;
      }
      h1 {
        font-family: "Jost", sans-serif;
      }
      h2 {
        font-family: "Jost", sans-serif;
      }
    </style>

    <!-- Replace 'no-api-key' in the link below with your API key -->
    <script
      src="https://cdn.tiny.cloud/1/xc8sjy1cri78d79sdux5x2o2qdnhx3tfmfayvy1y50jna1be/tinymce/7/tinymce.min.js"
      referrerpolicy="origin"
    ></script>
  </head>
  <body>
    <script
      src="https://www.socialintents.com/api/chat/socialintents.1.3.js#2c9fa6c38ff9250e018ff939ab41000b"
      async="async"
    ></script>
    <div class="content">

      <div class="navbar">

      <header>
        <h1>gnome biome</h1>

        <div id="time-date">
          <span id="current-time"></span> | <span id="current-date"></span>
        </div>
      </header>

      <nav>
        <ul>
          <li><a href="#reminders">reminders</a></li>
          <li><a href="#goals">goals</a></li>
          <li><a href="#mood-tracker">mood tracker</a></li>
          <li><a href="#meditation">meditation<br></a></li>
        </ul>
      </nav>

    </div>

      <div class="banner">
        <img src="banner.png" alt="Banner Image">
      </div>

      <main>
        <section id="reminders">
          <h2>daily reminders</h2>
          <p>
            stay on top of your self-care routine with personalized reminders
            from Quillby!
          </p>
          <p>Click each button to toggle custom reminders</p>
          <br />

          
    </head>
    <body>
        <div class="container">
            <div class="card">
                <h2>Stretch</h2>
                <p>Get a notification to get up and stretch every...</p>
                <div class="slider-container">
                    <input type="range" min="10" max="300" value="240" class="slider" id="stretchSlider" oninput="updateTime('stretch')">
                    <span id="stretchTime">4 hrs</span>
                </div>
                <button id="stretchBtn" onclick="toggleNotification('stretch')">Start</button>
            </div>
    
            <div class="card">
                <h2>Water</h2>
                <p>Get a notification to drink water every...</p>
                <div class="slider-container">
                    <input type="range" min="10" max="300" value="30" class="slider" id="waterSlider" oninput="updateTime('water')">
                    <span id="waterTime">30 min</span>
                </div>
                <button id="waterBtn" onclick="toggleNotification('water')">Start</button>
            </div>
    
            <div class="card">
                <h2>Screen Break</h2>
                <p>Get a notification to take a screen break and go outside every...</p>
                <div class="slider-container">
                    <input type="range" min="10" max="300" value="120" class="slider" id="breakSlider" oninput="updateTime('break')">
                    <span id="breakTime">2 hrs</span>
                </div>
                <button id="breakBtn" onclick="toggleNotification('break')">Start</button>
            </div>
        </div>
    
        <script>
            // Function to show notification
            function showNotification(message) {
                if (Notification.permission === "granted") {
                    new Notification("Daily Reminders", {
                        body: message,
                        icon: "mrgnome.png"
                    });
                }
            }
    
            // Request notification permission if not already granted
            if (Notification.permission !== "granted") {
                Notification.requestPermission();
            }
    
            function updateTime(type) {
                const slider = document.getElementById(type + 'Slider');
                const timeDisplay = document.getElementById(type + 'Time');
                const minutes = slider.value;
                
                let hours = Math.floor(minutes / 60);
                let displayMinutes = minutes % 60;
    
                if (hours > 0) {
                    timeDisplay.textContent = `${hours} hr${hours > 1 ? 's' : ''}${displayMinutes > 0 ? ' ' + displayMinutes + ' min' : ''}`;
                } else {
                    timeDisplay.textContent = `${displayMinutes} min`;
                }
            }
    
            let timers = {
                stretch: null,
                water: null,
                break: null
            };
    
            function toggleNotification(type) {
                const button = document.getElementById(type + 'Btn');
                const slider = document.getElementById(type + 'Slider');
                const interval = slider.value * 60000;  // Convert minutes to milliseconds
    
                if (button.textContent === 'Start') {
                    button.textContent = 'Pause';
                    startNotification(type, interval);
                } else {
                    button.textContent = 'Start';
                    pauseNotification(type);
                }
            }
    
            function startNotification(type, interval) {
                if (Notification.permission === "granted") {
                    showAndScheduleNotification(type, interval);
                } else {
                    Notification.requestPermission().then(permission => {
                        if (permission === "granted") {
                            showAndScheduleNotification(type, interval);
                        }
                    });
                }
            }
    
            function showAndScheduleNotification(type, interval) {
                let message = "";
                if (type === "stretch") {
                    message = "This is a reminder to stretch!";
                } else if (type === "water") {
                    message = "This is a reminder to drink water!";
                } else if (type === "break") {
                    message = "This is a reminder to take a break!";
                }
    
                // Show the notification immediately
                showNotification(message);
    
                // Schedule the notifications at the specified interval
                timers[type] = setInterval(function() {
                    showNotification(message);
                }, interval);
            }
    
            function pauseNotification(type) {
                clearInterval(timers[type]);
                timers[type] = null;
            }
        </script>
        </section>

        <section id="goals">
          <h2 style="text-align:right;">personal goals</h2>
          <p style="text-align:right;">jot down your personal goals for self improvement!</p>
          <textarea id="editable-class">
            <p>what's on your mind?</p>
            <div class="myclass editable">start here!</div>
          </textarea>
          <script>
            tinymce.init({
              selector: "textarea#editable-class",
              // content_style:
              //   "body { background: #fff1bd; color: black; font-size: 15pt; font-family: "Single Day"; }",
              max_height: 750,
              max_width: 500,
              min_height: 350,
              min_width: 400,
              toolbar:
                "restoredraft | undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",
              content_style: `
              body { font-family:Helvetica,Arial,sans-serif; font-size:16px }
              .editable { border: 0.1rem solid green; border-radius: 0.8rem; padding: 0.2rem; }
              `,
              editable_root: false,
              editable_class: "editable",
              plugins: "autosave",
            });
          </script>
        </section>

        <section id="mood-tracker-section">
          <div id="mood-tracker-container">
            <section id="mood-tracker">
              <h2>mood tracker</h2>
              <p>log your daily moods and monitor your mental well-being!</p>

              <h3>how are you feeling right now?</h3>

              <div id="mood-tracking-form">
                <form id="mood-form">
                  <label class="mood-label" data-color="rgb(221, 158, 189)">
                    <input type="radio" name="mood" value="happy" />
                    happy
                  </label>
                  <label class="mood-label" data-color="rgb(89, 122, 175)">
                    <input type="radio" name="mood" value="sad" />
                    sad
                  </label>
                  <label class="mood-label" data-color="rgb(196, 215, 180)">
                    <input type="radio" name="mood" value="chill" />
                    chill
                  </label>
                  <label class="mood-label" data-color="rgb(225, 169, 118)">
                    <input type="radio" name="mood" value="stressed" />
                    stressed
                  </label>
                  <label class="mood-label" data-color="rgb(197, 112, 97)">
                    <input type="radio" name="mood" value="angry" />
                    angry
                  </label>
                  <button type="submit">submit</button>
                </form>
              </div>

              <h4 id="mood-message"></h4>
            </section>
            <section id="mood-calendar">
              <h2>Mood Calendar</h2>
              <div id="calendar-nav">
                <button id="prev-month">&lt;</button>
                <span id="calendar-month-year"></span>
                <button id="next-month">&gt;</button>
              </div>
              <div id="calendar">
                <div class="calendar-day-name">Sun</div>
                <div class="calendar-day-name">Mon</div>
                <div class="calendar-day-name">Tue</div>
                <div class="calendar-day-name">Wed</div>
                <div class="calendar-day-name">Thu</div>
                <div class="calendar-day-name">Fri</div>
                <div class="calendar-day-name">Sat</div>
              </div>
            </section>
          </div>
        </section>

        <section id="meditation">
          <h2 style="text-align:right;">meditation</h2>
          <p style="text-align:right;">wind down with some meditation.</p>
          
    </head>
        <body>
      <audio id="breathingAudio" src="{{ url_for('static', filename='audio/CalmMusic.mp3') }}" preload="auto"></audio>
        <div class="breathing-container">
            <h1>Breathing Exercise</h1>
      <body>Press Start to begin</body>
            <div class="breathing-circle" id="circle">Breathe</div>
            <div class="button-container">
                <button onclick="startBreathing()">Start</button>
                <button onclick="stopBreathing()">Stop</button>
                
            </div>
        </div>
    
        <script>
            let breathingInterval;
            let breatheIn = true;
    
            function startBreathing() {
                if (breathingInterval) return; // Avoid multiple intervals
                breathingInterval = setInterval(() => {
                    const circle = document.getElementById('circle');
                    breathingAudio.play();
                    if (breatheIn) {
                        circle.style.backgroundColor = '#76c7c0';
                        circle.textContent = 'Inhale';
                    } else {
                        circle.style.backgroundColor = '#f0f0f0';
                        circle.textContent = 'Exhale';
                    }
                    breatheIn = !breatheIn;
                }, 4000); // 5 seconds interval
            }
    
            function stopBreathing() {
                clearInterval(breathingInterval);
                breathingInterval = null;
                breathingAudio.pause();
                const circle = document.getElementById('circle');
                circle.style.backgroundColor = '#f0f0f0';
                circle.textContent = 'Breathe';
            }
        </script>
    </body>
        </section>
      </main>
    </div>

    <footer>
      <p>&copy; 2024 Gnome Biome. All rights reserved.</p>
    </footer>

    <script src="index.js"></script>
  </body>
</html>
<!--end of program-->
